# プロトコル準拠チェック

**対象ファイルのみ確認する。全コードスキャンは行わない。**

---

## 必須チェック（全変更共通）

- [ ] ハードコードなし（マジックナンバー、URL直書き）
- [ ] メタデータ駆動（ENUM禁止、マスタテーブル使用）
- [ ] エラーハンドリング（握りつぶしなし）
- [ ] 命名規則（明確、略語なし）
- [ ] コメント（WHYを書く）

---

## DB変更あり時

- [ ] マイグレーションファイル存在
- [ ] 必須カラム（id, created_at, updated_at, created_by, updated_by）
- [ ] 外部キー設定
- [ ] 論理削除対応（deleted_at）
- [ ] カスケード削除禁止

---

## API変更あり時

- [ ] バリデーション実装
- [ ] エラーレスポンス統一
- [ ] 冪等性考慮
- [ ] トランザクション処理

---

## フロント変更あり時

- [ ] any型なし
- [ ] 共通コンポーネント使用
- [ ] 定数ファイル参照（ハードコードなし）

---

## 確認コマンド例

```bash
# 変更ファイル内のハードコード検出
git diff HEAD~1 -- "*.py" | grep -E "localhost|:8005|==\s*[0-9]+"

# any型検出
git diff HEAD~1 -- "*.tsx" "*.ts" | grep ": any"

# ENUM使用検出
git diff HEAD~1 -- "*.py" | grep -i "enum"
```

---

## 完了条件

- [ ] 全チェック項目を確認した
- [ ] 問題箇所を記録した

## 次の工程

→ 3_report.md
